# Инструкция для работы с Git и удалёнными репозиториями

![git logo](https://git-scm.com/images/logo@2x.png "GIT logi")

Что такое Git? Git - это одна из реализаций распределённых систем контроля версий, имеющая как и локальные, так и удалённые репозитории. Является самой популярной реализацией систем контроля версий в мире. В этом файле мы рассмотрим основы работы с гит и с удалёнными репозиториями (на примере GitHub).

Как работает гит? Каждый раз, когда мы сохраняем состояние проекта, Git запоминает как выглядит каждый файл в этот момент времени, как бы делая снимок всего проекта (замораживая его) и сохраняет ссылку на этот снимок, его еще можно назвать коммитом (commit).

![Alt text](images/image.png)

Каждый раз, когда Вы делаете коммит, Git сначала вычисляет хеш сумму этого коммита и только потом сохраняет информацию. При этом в коммите есть ссылка на предыдущий коммит - его хеш сумма. Так Git обеспечивает целостность истории изменений. Поэтому даже если кто-то хоть что-нибудь изменит в любом коммите из цепочки, его хеш сумма полностью изменится и придется переписывать уже всю последующую историю коммитов, что не останется незамеченным.

![Alt text](images/image-1.png)

## Оглавление

1. [Git](#git) 
    + [Что такое Git?](#what_git) 
    + [Подготовка репозитория](#prepare_repo)
    + [Создание коммитов](#commit)
        - [Git Add](#git_add)
        - [Подготовка репозитория](#git_status)
        - [Создание коммитов](#create_commit)
        - [Исправление полседнего коммита](#amend)
        - [Перемещение между сохранениями](#go_to_save)
        - [Журнал изменений](#log)
    + [Редактирование истории](#redact_his)
    + [Редактирование истории](#redact_his)
    + [Редактирование истории](#branches)
        - [Создание ветки](#create_branch)
        - [Слияние веток](#merge_branch)
        - [Удаление веток](#del_branch)
    + [Специальные файлы .gitignore и .gitkeep](#gitignore_gitkeep)
    + [Если .gitignore не работает](#gitignore_error)
2. [GitHub](#GitHub)
    + [Что такое GitHub?](#what_GitHub)
    + [Создание репозитория на GitHub](#create_repo_GitHub)
    + [Подключение репозитория](#link_connect_repo_GitHub)
    + [Отправка данных на удаленный репозиторий](#push_GitHub)
        - [Удаление веток в удаленном репозитории](#push_del_GitHub)
    + [Получение данных из удаленнх репозитория](#pull_GitHub)
    + [Получение данных из удаленнх репозитория](#pull_GitHub)
    + [fork](#fork)
    + [Pull request](#pull_request)
    + [Codespaces](#codespace)
        - [Как попасть в Codespaces](#why_open_codespaces)
        - [Devcontainers](#devcontainers)
    + [Возможные ошибки](#codespace)
        - [Если возникает ошибка fatal: Could not read from remote repository](#errors1)
        - [Если .gitignore не работает](#gitignore_errors)
3. [Дополнительные материалы](#more_info)

## Git <a name="git"></a>

![](Image/gitHead.jpeg)

### Что такое Git? <a name="what_git"></a>

Git - это одна из реализаций распределённых систем контроля версий, имеющая как и локальные, так и удалённые репозитории. Является самой популярной реализацией систем контроля версий в мире.

### Подготовка репозитория <a name="prepare_repo"></a>

Для создание репозитория необходимо выполнить команду *git init* в папке с репозиторием и у Вас создаться репозиторий (появится скрытая папка .git)

Если ранее вы не указали Имя Пользователя и Email, то нужно:\
*git config --global user.name* <имя пользователя> \
*git config --global user.email* <email пользователя>

### Создание коммитов <a name="commit"></a>

#### Git add <a name="git_add"></a>

Для добавления измений в коммит используется команда *git add*. Чтобы использовать команду git add напишите *git add* <имя файла>

#### Просмотр состояния репозитория <a name="git_status"></a>

Для того, чтобы посмотреть состояние репозитория используется команда *git status*. Для этого необходимо в папке с репозиторием написать *git status*, и Вы увидите были ли измения в файлах, или их не было.

#### Создание коммитов <a name="create_commit"></a>

Для того, чтобы создать коммит(сохранение) необходимо выполнить команду *git commit*. Выполняется она так: *git commit -m* <сообщение к коммиту>. Все файлы для коммита должны быть ДОБАВЛЕНЫ и сообщение к коммиту писать ОБЯЗАТЕЛЬНО.

## Перемещение между сохранениями
Для того, чтобы перемещаться между коммитами, используется команда *git checkout*. Используется она в папке с пепозиторием следующим образом: *<u>git checkout <номер коммита></u>*

## Журнал изменений
Для того, чтобы посмтреть все сделанные изменения в репозитории, используется команда *git log*. Для этого достаточно выполнить команду *git log* в папке с репозиторием

## Ветки в Git
### Создание ветки
Для того, чтобы создать ветку, используется команда git branch. Делается это следующим образом в папке с репозиторием: *<u>git branch <название новой ветки></u>*

##№ Слияние веток
Для того чтобы дабавить ветку в текущую ветку используется команда *git merge*

### Удаление веток
Для удаления ветки ввести команду "*<u>git branch -d 'name branch'</u>*"

*Начните работу с GitHub для управления репозиториями Git и совместной работы с другими пользователями.* 

**Что такое GitHub и чем он отличается от Git**
-----------------------------------------------

[GitHub](https://github.com/) — это облачная платформа для хостинга IT-проектов и совместной разработки, под капотом которой находится популярная система контроля версий [Git](https://skillbox.ru/media/code/chto_takoe_git_obyasnyaem_na_skhemakh/), а также полноценная социальная сеть для разработчиков.

### **Репозиторий**

Это просто корневая папка с файлами и вложенными директориями вашей программы — и одновременно её страница на GitHub. Загрузить в репозиторий можно всё что угодно, но предполагается, что вы будете хранить в нём файлы с исходным кодом и какие-нибудь дополнительные материалы — допустим, необходимую для GUI или вёрстки графику (картинки, иконки и тому подобное).

Репозитории могут быть публичными и приватными, в них можно создавать другие папки и отслеживать изменения версий. Управлять своими репозиториями можно прямо через интерфейс сайта, [командную строку](https://docs.github.com/en/github-cli/github-cli/about-github-cli), [десктопное приложение](https://docs.github.com/en/desktop) GitHub или различные средства разработки (IDE), поддерживающие интеграцию с сервисом.


## Создание репозитория

*Чтобы разместить проект на GitHub, необходимо создать репозиторий, чтобы он функционировал.* 

В репозиториях GitHub можно хранить различные проекты, включая проекты с открытым исходным кодом. С проектами с открытым исходным кодом вы можете обмениваться кодом для создания лучшего и более надежного программного обеспечения. Вы можете использовать репозитории для совместной работы с другими пользователями и отслеживания своей работы. Дополнительные сведения см. в разделе ["О репозиториях"](https://docs.github.com/en/repositories/creating-and-managing-repositories/about-repositories). Чтобы узнать больше о проектах с открытым исходным кодом, посетите [OpenSource.org](https://opensource.org/about).

* В правом верхнем углу любой страницы воспользуйтесь  выпадающим меню и выберите Новый репозиторий. 
![](https://docs.github.com/assets/cb-31554/mw-1440/images/help/repository/repo-create.webp)

* Введите короткое, запоминающееся название для вашего репозитория. Например, "hello-world".
![](https://docs.github.com/assets/cb-61138/mw-1440/images/help/repository/create-repository-name.webp)

* При желании добавьте описание вашего репозитория. Например, "Мой первый репозиторий на GitHub".

* Выберите видимость репозитория. Для получения дополнительной информации смотрите раздел ["О репозиториях"](https://docs.github.com/en/repositories/creating-and-managing-repositories/about-repositories#about-repository-visibility).

* Выберите Инициализировать этот репозиторий с помощью README.

* Нажмите Создать репозиторий.

*Поздравляем! Вы успешно создали свой первый репозиторий и инициализировали его с помощью файла README.*

## Зафиксируйте ваше первое изменение

Фиксация похожа на снимок всех файлов в вашем проекте в определенный момент времени.

Когда вы создавали свой новый репозиторий, вы инициализировали его с помощью файла README. Файлы README - отличное место для более подробного описания вашего проекта или добавления некоторой документации, например, о том, как установить или использовать ваш проект. Содержимое вашего файла README автоматически отображается на главной странице вашего репозитория.

Давайте внесем изменения в файл README.

* В списке файлов вашего репозитория выберите README.md.
![](https://docs.github.com/assets/cb-21025/mw-1440/images/help/repository/create-commit-open-readme.webp)

* В правом верхнем углу окна просмотра файлов нажмите , чтобы открыть редактор файлов.
![](https://docs.github.com/assets/cb-47677/mw-1440/images/help/repository/edit-file-edit-button.webp)

* В текстовом поле введите некоторую информацию о себе.
* Над новым контентом нажмите Предварительный просмотр.
![](https://docs.github.com/assets/cb-35443/mw-1440/images/help/repository/edit-readme-preview-changes.webp)

* Просмотрите изменения, внесенные вами в файл. Если вы выберете Показать разницу, вы увидите новое содержимое зеленым цветом.
![](https://docs.github.com/assets/cb-32483/mw-1440/images/help/repository/create-commit-review.webp)

* Нажмите Зафиксировать изменения ...
* В поле "Сообщение о фиксации" введите короткое, содержательное сообщение о фиксации, описывающее изменения, внесенные вами в файл. В сообщении о фиксации вы можете приписать фиксацию нескольким авторам. Дополнительные сведения см. в разделе ["Создание коммита с несколькими авторами"](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request).
![](https://docs.github.com/assets/cb-27122/mw-1440/images/help/repository/choose-commit-branch.webp)
* Нажмите Зафиксировать изменения или Предложить изменения.

## Следующие шаги
* Теперь вы создали репозиторий, включающий файл README, и создали свой первый коммит на GitHub.com.

* Теперь вы можете клонировать репозиторий GitHub для создания локальной копии на вашем компьютере. Из вашего локального репозитория вы можете зафиксировать и создать запрос на извлечение для обновления изменений в вышестоящем репозитории. Дополнительные сведения см. в разделах ["Клонирование репозитория"](https://docs.github.com/en/repositories/creating-and-managing-repositories/cloning-a-repository) и ["Настройка Git"](https://docs.github.com/en/get-started/quickstart/set-up-git).

* Вы можете найти интересные проекты и репозитории на GitHub и внести в них изменения, создав форк репозитория. Разветвление репозитория позволит вам вносить изменения в другой репозиторий, не затрагивая оригинал. Для получения дополнительной информации смотрите раздел ["Разветвление репозитория"](https://docs.github.com/en/get-started/quickstart/fork-a-repo).

* Каждый репозиторий на GitHub принадлежит отдельному лицу или организации. Вы можете взаимодействовать с людьми, репозиториями и организациями, подключаясь к ним на GitHub и следуя за ними. Для получения дополнительной информации смотрите раздел ["Будьте социальными"](https://docs.github.com/en/get-started/quickstart/be-social).

* На GitHub есть отличное сообщество поддержки, где вы можете обратиться за помощью и пообщаться с людьми со всего мира. Присоединяйтесь к общению в [сообществе GitHub](https://github.com/orgs/community/discussions).

## Работа с удалённым репозиторием

### Клонирование репозитория
Копировать внешний репозиторий на свой ПК можно командой *git clone*

>Команда git clone составная: она не только загружает все изменения, но и пытается слить  все ветки на локальном компьютере и в удаленном репозитории.

### Получение изменений из удаленного репозитория
Что скачать изменения из удалённого репозитория необходимо выполнить команду *git pull*
>Эта команда позволяет скачать все из текущего репозитория и автоматически сделать merge с нашей версией

### Отправка изменений во внешний репозиторий
Отправить свою версию репозитория во внешний репозиторий поможет команда *git push*. **При первом её использовании нужна авторизация.**
>Эта команда позволяет отправить нашу версию репозитория на внешний репозиторий. **ТРЕБУЕТ АВТОРИЗАЦИИ на внешнем репозитории.**

### Удаление веток в удаленном репозитории
* Заходим в свой репозиторий. Находим там вкладку branches:
![ветки](https://ploshadka.net/wp-content/uploads/4787/branches.jpg)

* Нажимаем на неё и оказываемся на следующей странице:
![](https://ploshadka.net/wp-content/uploads/4787/github-remove-branch-532x400.jpg)

* Справа от веток находим иконку корзины. Это полностью позволяет удалить ветку.

#### Удаление через консоль

* Удаляет локальную ветку, если уже сделан её пуш и мердж:

```git branch -d branch_name```

* Принудительно (force) удаляет локальную ветку, несмотря ни на что:

```git branch -D branch_name```

* Теперь удалим такую же ветку из самого репозитория:

```git push origin --delete stage```

### Вливание/предожение изменений в сторонний репозиторий
В больших компаниях один ответственный за проект создает аккаунт. Другие пользователи дают команду *pull request*. Предлагать изменения на GitHub нужно в отдельной ветке. Сначала пользователь копирует репозиторий на свой компьютер, делает fork репозитория, затем клонирует версию на своём ПК, создаёт ветку с предлагаемыми изменениями, отправляет изменения командой push в свой аккаунт на GitHub и даёт команду *pull request*. 

#### pull request
* команда для предложения изменений
* запрос на вливание изменений в репозиторий

## Как сделать pull request

 * Получить ссылку на чужой репозиторий (который собираемся клонировать)

 * Залогиниться в свой github

* На новой вкладке браузера : копируем в адресную строку ссылку на чужой репозиторий
 
 * В интерфейсе github нажимаем кнопку Fork
 ![pic01 :](pic01.jpg "pic01")
  
* Заполняем форму создания новой "вилки" и нажимаем **Create fork**
 ![pic02 :](pic02.jpg "pic02")

* В списке собственных репозиториев появляется ссылка на чужой репозиторий
 ![pic03 :](pic03.jpg "pic03")

* Заходим в форк чужого репозитория, нажимаем кнопку Code, на закладке HTTPS копирем адрес форка в clipboard
 ![pic04 :](pic04.jpg "pic04")

 * На локальной рабочей станции, в терминале VS Code делаем clone своей версии репозитория:
    git clone https://github.com/akulovokille/test345.git

* В интерфейсе VS Code (explorer) переходим в клонированный репозиторий

 * Создаем новую ветку
    git branch version2

* Переходим в ветку
    git checkout version2

* Открываем какие-либо файлы на редактирование, вносим изменения, сохраняем локально

* Готовим изменные файлы для нового коммита
    git add .

 * Делаем коммит
    git commit -m "Lines 05 and 10 have been changed"
 
 * Отправляем свою версию в свой GitHub
    git push
 
 * На сайте GitHub нажимаем кнопку **Pull request** для отправки изменений на модерацию хозяину репозитория

 ## Codespaces

 ### Что это такое

 Codespaces — это *Visual Studio*, который можно использовать в браузере. Доступны все те же функции: редактор, терминал, отладчик, GitHub Copilot, контроль версий, экосистема расширений и так далее.

Codespaces заточена под совместную разработку. В ней можно создавать стандартизированные среды, задавать требования к ним и настроить редактор для всей команды через конфигурационные файлы *.devcontainer.json*. 

Это позволит новым членам команды просто присоединиться и сразу начать писать код — без дополнительных настроек.

### Процесс создания кодового Codespace

* Когда вы создаете кодовое пространство, в фоновом режиме выполняются различные шаги, прежде чем кодовое пространство станет вам доступно.

1. __Виртуальная машина и хранилище назначаются вашему кодовому пространству__

    Когда вы создаете кодовое пространство, создается поверхностный клон вашего репозитория или репозитория шаблонов, если вы создаете кодовое пространство на основе шаблона. Репозиторий клонируется на виртуальную машину Linux, которая является выделенной и частной для вас. Наличие выделенной виртуальной машины гарантирует, что вам будет доступен весь набор вычислительных ресурсов этой машины. При необходимости это также позволит вам получить полный root-доступ к вашему контейнеру.
    Ваш репозиторий клонируется в каталог /workspaces в пространстве кода. Дополнительную информацию см. в разделе «О структуре каталогов кодового пространства» ниже.

2. __Контейнер создан__

    GitHub Codespaces использует контейнер в качестве среды разработки. Этот контейнер создается на основе конфигураций, которые вы можете определить в файле devcontainer.json и, при необходимости, в файле Dockerfile. Если вы создаете кодовое пространство на основе пустого шаблона GitHub или из репозитория без файла devcontainer.json, GitHub Codespaces использует образ по умолчанию, в котором доступно множество языков и сред выполнения. Дополнительные сведения см. в разделе «Введение в контейнеры разработки». Подробную информацию о том, что содержит образ по умолчанию, см. в репозитории devcontainers/images.

3. __Подключение к кодовому пространству__

    Когда ваш контейнер будет создан и будет выполнена любая другая инициализация, вы будете подключены к своему кодовому пространству. Вы можете подключиться к нему, используя:

    * Ваш веб-браузер
    * Visual Studio Code
    * JetBrains IDE
    * GitHub CLI

4. __Настройка после создания__

    Как только вы подключитесь к своему кодовому пространству, ваша автоматическая установка может продолжить сборку на основе конфигурации, указанной в вашем файле devcontainer.json. Вы можете увидеть выполнение postCreateCommand и postAttachCommand.

    Если вы хотите использовать перехватчики Git в своем кодовом пространстве, настройте перехватчики с помощью сценариев жизненного цикла devcontainer.json, таких как postCreateCommand. Информацию о сценариях жизненного цикла см. в спецификации контейнеров разработки на веб-сайте Контейнеры разработки.

    Если у вас есть общедоступный репозиторий точечных файлов для кодовых пространств GitHub, вы можете включить его для использования с новыми кодовыми пространствами. Если этот параметр включен, ваши точечные файлы будут клонированы в контейнер и будет запущен сценарий установки. Дополнительную информацию см. в разделе «Персонализация кодовых пространств GitHub для вашей учетной записи».

    Наконец, если вы создали кодовое пространство из репозитория, вся история репозитория копируется с помощью полного клона. Если вы создали пространство кода на основе шаблона, полная история репозитория шаблонов не сохраняется; вместо этого, если вы не используете пустой шаблон, вы начнете с первоначальной фиксации содержимого репозитория шаблонов.

    Во время настройки после создания вы по-прежнему сможете использовать встроенный терминал и вносить изменения в свои файлы, но будьте осторожны, чтобы избежать каких-либо состояний гонки между вашей работой и выполняемыми командами.

## Возможные ошибки

### Если возникает ошибка fatal: Could not read from remote repository

Тут два варианта:

1. Внешний репозиторий по какой-то причине не работает или не доступен (проблемы на сервере, проблемы с сетью и т.п.)
2. Адрес репозитория по умолчанию не корректен. Можно проверить с помощью команды ```git remote -v```

### Если .gitignore не работает

Убедитесь что ваш файл не отслеживался гитом ранее, если он уже был добавлен в тржккинг гита, то необходимо использовать команду:
    
```git rm --cached file_name```

где file_name - имя файла который вы добавили в *.gitignore*